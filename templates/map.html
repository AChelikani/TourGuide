<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>NexStop</title>
    <meta name="generator" content="Bootply" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="{{ url_for('static',filename='css/bootstrap.min.css') }}" rel="stylesheet">

    <link href="{{ url_for('static',filename='css/styles.css') }}" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="http://js.api.here.com/v3/3.0/mapsjs-ui.css" />

  </head>
  <body>
<!-- begin template -->

<div class="inputbar">
  <form id="formRoute" class="form-inline" role="form">
    <div class="form-group">
      <label for="start">Start Time:</label>
      <input type="text" class="form-control" name="fromtime" id="start">
    </div>
    <div class="form-group">
      <label for="end">End Time:</label>
      <input type="text" class="form-control" name="totime" id="end">
    </div>
    <div class="form-group">
      <label for="from">From:</label>
      <input type="text" class="form-control" name="from" id="from">
    </div>
    <div class="form-group">
      <label for="to">To:</label>
      <input type="text" class="form-control" name="to" id="to">
    </div>
    <button class="btn btn-sml" id="btnGen">Generate!</button>
  </form>
</div>

<div class="container-fluid" id="main">
  <div class="row">
    <div class="col-xs-5" id="left">
    
      <h2><center>Venues</center></h2>
        <ul class="list-group" id="activityList">
          <li onclick="toggle(this)" class="list-group-item" id="l1">-</li>
          <li onclick="toggle(this)" class="list-group-item" id="l2">-</li>
          <li onclick="toggle(this)" class="list-group-item" id="l3">-</li>
          <li onclick="toggle(this)" class="list-group-item" id="l4">-</li>
          <li onclick="toggle(this)" class="list-group-item" id="l5">-</li>
          <li onclick="toggle(this)" class="list-group-item" id="l6">-</li>
          <li onclick="toggle(this)" class="list-group-item" id="l7">-</li>
          <li onclick="toggle(this)" class="list-group-item" id="l8">-</li>
          <li onclick="toggle(this)" class="list-group-item" id="l9">-</li>
          <li onclick="toggle(this)" class="list-group-item" id="l10">-</li>
          <li onclick="toggle(this)" class="list-group-item" id="l11">-</li>
          <li onclick="toggle(this)" class="list-group-item" id="l12">-</li>
          <li onclick="toggle(this)" class="list-group-item" id="l13">-</li>
        </ul>
    </div>

      <div id="map-canvas" style="height:600px; width:725px;"></div>

  </div>
</div>


<!-- end template -->

  <!-- script references -->
    <script src="http://js.api.here.com/v3/3.0/mapsjs-core.js" type="text/javascript" charset="utf-8"></script>
    <script src="http://js.api.here.com/v3/3.0/mapsjs-service.js" type="text/javascript" charset="utf-8"></script>
    <script src="http://js.api.here.com/v3/3.0/mapsjs-ui.js" type="text/javascript" charset="utf-8"></script>
    <script src="http://js.api.here.com/v3/3.0/mapsjs-mapevents.js" type="text/javascript" charset="utf-8"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
    <script src="{{ url_for('static',filename='js/bootstrap.min.js') }}"></script>
    <script src="{{ url_for('static',filename='js/scripts.js') }}"></script>
    <script type="text/javascript"> 
      function toggle(element) {
        if (element.className == "list-group-item") {
          element.className += " selected";
        }
        else {
          element.className = "list-group-item";
        }
      }

      var url = "http://localhost:5000/pathfind?from=Berkeley&to=Caltech&fromtime=Oct10&totime=Oct12";

      $.getJSON(url, function(data) {
        for(i = 0; i < data.activityList.length; i ++) {
          document.getElementById("l" + String(i+1)).innerHTML = data.activityList[i].activity;
        }
      });

      var platform = new H.service.Platform({
        'app_id': 'N6MJW6UzW079S5ZZwcPl',
        'app_code': 'FOkZLbFrMx77dDpomCs9ZQ'
      });

      var defaultLayers = platform.createDefaultLayers();
      var map;
      var ui;
      var mapEvents;
      var behavior;

      function initialize() {
        var marker = new H.map.Marker({ lat: 34.139011, lng : -118.124514});
        map = new H.Map(
            document.getElementById('map-canvas'),
            defaultLayers.normal.map,
            {
              zoom: 10,
              center: { lat: 34.13, lng: -118.12 }
            });

        ui = H.ui.UI.createDefault(map, defaultLayers);

        mapEvents = new H.mapevents.MapEvents(map);
        behavior = new H.mapevents.Behavior(mapEvents);
        map.addObject(marker);

      }


      window.addEventListener('load', initialize, false )
    </script>

  </body>
</html>